<div class="box box-primary">
  <div class="box-header">
    <%= fa_icon "child" %>
    <h1 class="box-title"><%= t("children.index.title") %></h1>
    <div class="box-tools">
      <%= link_to new_child_path, class: "btn btn-primary" do %>
        <%= fa_icon "plus" %>
        <%= t("children.index.add") %>
      <% end %>
    </div>
  </div>
  <div class="box-body">
    <table id="children-data-table"
      class="table table-bordered table-condensed table-striped">
      <thead>
        <tr>
          <th><%= Child.human_attribute_name(:id) %></th>
          <th><%= Child.human_attribute_name(:first_name) %></th>
          <th><%= Child.human_attribute_name(:last_name) %></th>
          <th><%= Child.human_attribute_name(:sex) %></th>
          <th><%= Child.human_attribute_name(:age) %></th>
          <th><%= Child.human_attribute_name(:intake_date) %></th>
          <th><%= Child.human_attribute_name(:current_education_status) %></th>
          <th><%= Child.human_attribute_name(:current_work_status) %></th>
        </tr>
      </thead>
      <tbody>
        <%= render(partial: "child", collection: @children) %>
      </tbody>
    </table>
  </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="status-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <%= form_tag("", remote: true, role: "form") do |f| %>
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"
            arial-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title">Update Status</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <%= label_tag "child_status[start_date]", "Status Changed Date" %>
            <div class="input-group date">
              <%= text_field_tag "child_status[start_date]", "",
                class: "form-control" %>
              <span class="input-group-addon"><%= fa_icon "calendar" %></span>
            </div>
          </div>

          <div class="form-group" id="work-status">
            <%= label_tag "child_status[work_status_id]",
              "Update Work Status" %>
            <%= select_tag "child_status[work_status_id]",
              options_from_collection_for_select(WorkStatus.all, "id", "name"),
              include_blank: true, class: "form-control"
            %>
          </div>
          <div class="form-group" id="education-status">
            <%= label_tag "child_status[education_status_id]",
              "Update Education Status" %>
            <%= select_tag "child_status[education_status_id]",
              options_from_collection_for_select(
                EducationStatus.all, "id", "name"
              ),
              include_blank: true, class: "form-control"
            %>
          </div>

          <div class="form-group">
            <%= label_tag "child_status[note]", "Note" %>
            <%= text_area_tag "child_status[note]", "", class: "form-control",
              rows: "5" %>
          </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">
            Close
          </button>
          <button type="submit" class="btn btn-primary">Update Status</button>
        </div>
      <% end %>
    </div>
  </div>
</div>
